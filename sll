#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct Node{int prn;char name[50];struct Node*next;}Node;

Node*newNode(int p,char n[]){Node*t=malloc(sizeof(Node));t->prn=p;strcpy(t->name,n);t->next=NULL;return t;}

void insert(Node**h,int p,char n[],int t){
    Node*x=newNode(p,n);
    if(!*h){*h=x;return;}
    if(t==1){x->next=*h;*h=x;return;}
    Node*s=*h;
    if(t==2)while(s->next)s=s->next;
    else while(s->next&&s->next->next)s=s->next;
    x->next=s->next;s->next=x;
}

void del(Node**h,int p){
    Node*t=*h,*pr=NULL;
    while(t&&t->prn!=p){pr=t;t=t->next;}
    if(!t){printf("Not found!\n");return;}
    if(!pr)*h=t->next;else pr->next=t->next;free(t);
}

void show(Node*h){
    if(!h){printf("No members!\n");return;}
    printf("\nPRN\tName\n--------------\n");
    while(h){printf("%d\t%s\n",h->prn,h->name);h=h->next;}
}

int count(Node*h){int c=0;while(h){c++;h=h->next;}return c;}

Node*concat(Node*a,Node*b){if(!a)return b;Node*t=a;while(t->next)t=t->next;t->next=b;return a;}

int main(){
    Node*A=NULL,*B=NULL;int c,p,t;char n[50];
    while(1){
        printf("\n1.Insert 2.Delete 3.Display 4.Concat 5.Count 6.Exit\nChoice: ");scanf("%d",&c);
        if(c==1){printf("1.Pres 2.Member 3.Sec: ");scanf("%d",&t);printf("PRN Name: ");scanf("%d %s",&p,n);insert(&A,p,n,t);}
        else if(c==2){printf("PRN to delete: ");scanf("%d",&p);del(&A,p);}
        else if(c==3)show(A);
        else if(c==4){printf("Enter 3 DivB members:\n");for(int i=0;i<3;i++){printf("PRN Name: ");scanf("%d %s",&p,n);insert(&B,p,n,2);}A=concat(A,B);printf("\nAfter concat:\n");show(A);}
        else if(c==5)printf("Total: %d\n",count(A));
        else exit(0);
    }
}

